<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Page</title>
    <link rel="stylesheet" href="/css/desc.css" />
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <li><a href="#">Catalog</a></li>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Reviews</a></li>
          <li><a href="#">Contact Us</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="product-container">
        <div class="product-image-gallery">
          <div class="product-image-box">
            <img
              id="productImage"
              src="/project-folder/image/apple.jpeg"
              alt="Product Image"
            />
          </div>
          <div class="product-gallery">
            <img
              src="/project-folder/image/bottle.jpg"
              onclick="changeImage('/project-folder/image/apple.jpeg')"
            />
            <img
              src="/project-folder/image/hoyeon.jpg"
              onclick="changeImage('/project-folder/image/apple.jpeg')"
            />
            <img
              src="/project-folder/image/model.jpeg"
              onclick="changeImage('/project-folder/image/apple.jpeg')"
            />
          </div>
        </div>
        <div class="product-info">
          <p class="product-category">CERAMIC</p>
          <h2 class="product-title">LILLO GREY VASE</h2>
          <p class="product-description">
            A coating of crackle glaze coats the vase’s ribbed texture in creamy
            ivory. Perfect for hosting a single stem or small floral spray.
          </p>
          <div class="product-price-container">
            <span class="product-price" id="product-price" data-price="200000">Rp200.000</span>
            <div class="quantity-selector">
              <button class="qty-btn" onclick="decreaseQuantity()">-</button>
              <span id="quantity">1</span>
              <button class="qty-btn" onclick="increaseQuantity()">+</button>
            </div>
          </div>
          <button class="add-to-basket" onclick="addToBasket()">ADD TO CART →</button>
        </div>
      </section>

      <section class="lip-product">
        <img
          id="lipProductImage"
          src="/project-folder/image/apple.jpeg"
          alt="Lip Product"
        />
      </section>

      <section class="see-also">
        <h3>SEE ALSO</h3>
        <div class="related-products">
          <div class="product-card">
            <img
              src="/project-folder/image/model.jpeg"
              alt="Related Product 1"
            />
            <p class="product-name">Produk 1</p>
          </div>
          <div class="product-card">
            <img
              src="/project-folder/image/hoyeon.jpg"
              alt="Related Product 2"
            />
            <p class="product-name">Produk 2</p>
          </div>
          <div class="product-card">
            <img
              src="/project-folder/image/bottle.jpg"
              alt="Related Product 3"
            />
            <p class="product-name">Produk 3</p>
          </div>
        </div>
        <div class="see-more-container">
          <a href="/lihat-selengkapnya.html" class="see-more-btn"
            >Lihat Selengkapnya</a
          >
        </div>
      </section>
    </main>

    <script>
      function updatePrice() {
          const priceElement = document.getElementById("product-price");
          const basePrice = parseInt(priceElement.getAttribute("data-price"));
          const quantity = parseInt(document.getElementById("quantity").textContent);
          const totalPrice = basePrice * quantity;
          priceElement.textContent = `Rp${totalPrice.toLocaleString("id-ID")}`;
      }

      function increaseQuantity() {
          let quantityElement = document.getElementById("quantity");
          let quantity = parseInt(quantityElement.textContent);
          quantityElement.textContent = quantity + 1;
          updatePrice();
      }

      function decreaseQuantity() {
          let quantityElement = document.getElementById("quantity");
          let quantity = parseInt(quantityElement.textContent);
          if (quantity > 1) {
              quantityElement.textContent = quantity - 1;
              updatePrice();
          }
      }
    </script>

    <script>
      function updatePrice() {
          const priceElement = document.getElementById("product-price");
          const basePrice = parseInt(priceElement.getAttribute("data-price"));
          const quantity = parseInt(document.getElementById("quantity").textContent);
          const totalPrice = basePrice * quantity;
          priceElement.textContent = `Rp${totalPrice.toLocaleString("id-ID")}`;
      }

      function increaseQuantity() {
          let quantityElement = document.getElementById("quantity");
          let quantity = parseInt(quantityElement.textContent);
          quantityElement.textContent = quantity + 1;
          updatePrice();
      }

      function decreaseQuantity() {
          let quantityElement = document.getElementById("quantity");
          let quantity = parseInt(quantityElement.textContent);
          if (quantity > 1) {
              quantityElement.textContent = quantity - 1;
              updatePrice();
          }
      }

      function addToBasket() {
          const product = {
              id: "lillo-grey-vase",  // ID unik untuk produk ini
              name: document.querySelector(".product-title").textContent,
              category: document.querySelector(".product-category").textContent,
              price: parseInt(document.getElementById("product-price").getAttribute("data-price")),
              quantity: parseInt(document.getElementById("quantity").textContent),
              image: document.getElementById("productImage").src
          };

          // Ambil data cart yang sudah ada
          let basket = JSON.parse(localStorage.getItem("basket")) || [];

          // Cek apakah produk sudah ada di cart
          let existingProduct = basket.find(item => item.id === product.id);
          if (existingProduct) {
              existingProduct.quantity += product.quantity; // Tambah jumlah jika sudah ada
          } else {
              basket.push(product); // Tambahkan produk baru
          }

          // Simpan kembali ke localStorage
          localStorage.setItem("basket", JSON.stringify(basket));

          alert("Produk berhasil ditambahkan ke keranjang!");
      }
    </script>

  </body>
</html>
