<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NÉVOFIA</title>
    <link rel="stylesheet" href="/NEVOFIA/css/basket.css">
    <script defer src="/js/basket.js"></script>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">NÉVOFIA</div>
            <button class="hamburger">☰</button>
            <ul class="nav-links">
            <a href="/html/about.html">About Us</a>
            <li><a href="#">Contact us</a></li>
              <!-- <li><a href="#">Help</a></li> -->
              <li><a href="/html/login.html" class="login-link">Login</a></li>
            </ul>
          </nav>
    </header>
    
    <main>
        <section class="cart-container">
            <div class="store">
                <!-- <span class="store-name">Toko NÉVOFIA</span> -->
            </div>
            <section class="product-list">
                <div class="product">
                    <input type="checkbox">
                    <img src="/project-folder/image/lip2.jpg" alt="Lip Serum Laneige">
                    <div class="details">
                        <div class="name">Lip Serum Laneige</div>
                        <div class="price">Rp64.000</div>
                        <select class="variation-select">
                            <option value="chocolate">CHOCOLATE FROSTING</option>
                            <option value="peach">PEACH GLAZE</option>
                            <option value="sugar">SUGAR GLAZE</option>
                        </select>
                        <div class="quantity-container">
                            <button class="minus">-</button>
                            <input type="number" value="1" min="1">
                            <button class="plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="product">
                    <input type="checkbox">
                    <img src="/project-folder/image/lip dear me.jpg" alt="Dear Me Beauty">
                    <div class="details">
                        <div class="name">Dear Me Beauty</div>
                        <div class="price">Rp56.000</div>
                        <select class="variation-select">
                            <option value="rachel">Dear Rachel</option>
                            <option value="vania">Dear Vania</option>
                            <option value="debby">Dear Debby</option>
                        </select>
                        <div class="quantity-container">
                            <button class="minus">-</button>
                            <input type="number" value="1" min="1">
                            <button class="plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="product">
                    <input type="checkbox">
                    <img src="/project-folder/image/masker g2g.jpg" alt="Clay stick Glad2Glow">
                    <div class="details">
                        <div class="name">Clay stick Glad2Glow</div>
                        <div class="price">Rp43.000</div>
                        <select class="variation-select">
                            <option value="pink">Brightening Clay Stick</option>
                            <option value="hijau">Mugwork Clay Stick</option>
                            <option value="abu">Volcano Clay Stick</option>
                        </select>
                        <div class="quantity-container">
                            <button class="minus">-</button>
                            <input type="number" value="1" min="1">
                            <button class="plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="product">
                    <input type="checkbox">
                    <img src="/project-folder/image/tavi.jpg" alt="Cream Blush Tavi">
                    <div class="details">
                        <div class="name">Cream Blush Tavi</div>
                        <div class="price">Rp66.000</div>
                        <select class="variation-select">
                            <option value="love bites">LOVE BITES</option>
                            <option value="starburst">STARBURST</option>
                        </select>
                        <div class="quantity-container">
                            <button class="minus">-</button>
                            <input type="number" value="1" min="1">
                            <button class="plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="product">
                    <input type="checkbox">
                    <img src="/project-folder/image/sunscreen skin.jpg" alt="Serum Sunscreen Skintific">
                    <div class="details">
                        <div class="name">Serum Sunscreen Skintific</div>
                        <div class="price">Rp79.000</div>
                        <select class="variation-select">
                            <option value="matte">MATTE FIT</option>
                            <option value="aqua">AQUA LIGHT</option>
                        </select>
                        <div class="quantity-container">
                            <button class="minus">-</button>
                            <input type="number" value="1" min="1">
                            <button class="plus">+</button>
                        </div>
                    </div>
                </div>

                <div class="product">
                    <input type="checkbox">
                    <img src="/project-folder/image/DAZZLE ME Fixed Loose Powder.jpg" alt="Dazzle Me Loose Powder">
                    <div class="details">
                        <div class="name">Dazzle Me Loose Powder</div>
                        <div class="price">Rp47.000</div>
                        <select class="variation-select">
                            <option value="satu">True Translucent</option>
                            <option value="dua">Light Ivory</option>
                            <option value="tiga">Medium Sand</option>
                        </select>
                        <div class="quantity-container">
                            <button class="minus">-</button>
                            <input type="number" value="1" min="1">
                            <button class="plus">+</button>
                        </div>
                    </div>
                </div>
            </section>
        </section>
        
    </main>

    <section class="checkout-summary">
        <label>
            <input type="checkbox" id="select-all"> Semua
        </label>
        <div class="total-container">
            <span>Total: <span id="total-price">Rp0</span></span>
        </div>
        <button id="checkout-button">Checkout (0)</button>
    </section>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const products = document.querySelectorAll(".product");
            const totalPriceElement = document.getElementById("total-price");
            const checkoutButton = document.getElementById("checkout-button");
            const selectAllCheckbox = document.getElementById("select-all");

            function updateTotal() {
                let total = 0;
                let totalItems = 0;
                let cart = [];

                products.forEach(product => {
                    const checkbox = product.querySelector("input[type='checkbox']");
                    const quantityInput = product.querySelector("input[type='number']");
                    const priceText = product.querySelector(".price").textContent.replace("Rp", "").replace(/\./g, "");
                    const price = parseInt(priceText);
                    const name = product.querySelector(".name").textContent;
                    const image = product.querySelector("img").src;
                    const variation = product.querySelector(".variation-select").value;
            
                    if (checkbox.checked) {
                        let quantity = parseInt(quantityInput.value);
                        total += price * quantity;
                        totalItems += quantity;
                        cart.push({ name, price, quantity, variation, image });
                    }
                });

                totalPriceElement.textContent = `Rp${total.toLocaleString()}`;
                checkoutButton.textContent = `Checkout (${totalItems})`;
                checkoutButton.disabled = totalItems === 0;
                localStorage.setItem("cart", JSON.stringify(cart));
            }

            function changeQuantity(input, amount) {
                let newValue = Math.max(1, parseInt(input.value) + amount);
                input.value = newValue;
                updateTotal();
            }

            products.forEach(product => {
                const checkbox = product.querySelector("input[type='checkbox']");
                const minusButton = product.querySelector(".minus");
                const quantityInput = product.querySelector("input[type='number']");
                const plusButton = product.querySelector(".plus");

                checkbox.addEventListener("change", updateTotal);
                minusButton.addEventListener("click", () => changeQuantity(quantityInput, -1));
                plusButton.addEventListener("click", () => changeQuantity(quantityInput, 1));
                quantityInput.addEventListener("input", updateTotal);
            });

            selectAllCheckbox.addEventListener("change", function () {
                const isChecked = this.checked;
                products.forEach(product => {
                    product.querySelector("input[type='checkbox']").checked = isChecked;
                });
                updateTotal();
            });

            function loadCartFromStorage() {
                let savedCart = JSON.parse(localStorage.getItem("cart")) || [];
                products.forEach(product => {
                    const name = product.querySelector(".name").textContent;
                    let cartItem = savedCart.find(item => item.name === name);
                    if (cartItem) {
                        product.querySelector("input[type='number']").value = cartItem.quantity;
                        product.querySelector(".variation-select").value = cartItem.variation;
                        product.querySelector("input[type='checkbox']").checked = true;
                    }
                });
                updateTotal();
            }

            loadCartFromStorage();
        });

        checkoutButton.addEventListener("click", function () {
            window.location.href = "checkout.html";
        });
    </script>
          <footer class="footer">
            <p>&copy; 2025 Névofia. All Rights Reserved.</p>
        </footer>
        
</body>
</html>
